# Makefile for installing and configuring Alacritty on Manjaro

.PHONY: help install

MANJARO_MAKEFILE := ~/Configs/manjaro/Makefile
CONFIG_DIR := $(HOME)/.config/alacritty
CONFIG_FILE_NAME := alacritty.toml
SOURCE_CONFIG := $(HOME)/Configs/alacritty/$(CONFIG_FILE_NAME)
TARGET_CONFIG := $(CONFIG_DIR)/$(CONFIG_FILE_NAME)

help:
	@echo "üì¶ Available targets:"
	@echo "  make install     ‚Äì Update system, install Alacritty, and link config"
	@echo "  make help        ‚Äì Show this help message"

install:
	@echo "üîÑ Updating system before installation..."
	@$(MAKE) -f $(MANJARO_MAKEFILE) update

	@echo "-------------------------------------------------------------------------------"
	@echo "üì• Installing Alacritty via yay..."
	yay -S alacritty --noconfirm
	@echo "-------------------------------------------------------------------------------"

	@echo "üìÅ Ensuring config directory exists at $(CONFIG_DIR)..."
	mkdir -p $(CONFIG_DIR)
	@echo "-------------------------------------------------------------------------------"

	@echo "üîó Creating symbolic link to config file..."
	ln -sf $(SOURCE_CONFIG) $(TARGET_CONFIG)
	@echo "-------------------------------------------------------------------------------"

	@echo "‚úÖ Alacritty installed and configured!"
