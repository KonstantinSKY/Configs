.PHONY: setup mirrors pacman-update install-yay enable-aur update

# Main target
setup: mirrors pacman-update install-yay yay-update enable-aur
	@echo "‚úÖ Manjaro i3 setup complete!"

# mirrors update
mirrors:
	@echo "üîÑ Updating mirrors..."
	sudo pacman-mirrors --fasttrack && sudo pacman -Syy

# Full update with pamac
pacman-update:
	@echo "‚¨ÜÔ∏è  Running full system upgrade..."
	sudo pacman -Syu --noconfirm

yay-update:
	@echo "‚¨ÜÔ∏è  Updating AUR and system packages with yay..."
	@yay -Syu --noconfirm

# –í–∫–ª—é—á–µ–Ω–∏–µ AUR (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pamac)
enable-aur:
	@echo "‚öôÔ∏è  Enabling AUR support in pamac (if applicable)..."
	@if command -v pamac >/dev/null 2>&1; then \
		pamac config --enable-aur; \
	else \
		echo "‚ÑπÔ∏è  pamac not found, skipping AUR GUI enabling..."; \
	fi
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AUR –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ yay
update:
	@echo "‚¨ÜÔ∏è  Updating AUR and system packages with yay..."
	@yay -Syyu --noconfirm
